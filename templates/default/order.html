{% set metas = {
    "keywords": "HTML, CSS, XML, XHTML, JavaScript",
    "description": "Free Web tutorials on HTML and CSS" } 
%}

{% extends "base.html" %}



{% block content %}

<!--<div class="inner_header h_bg2">

      <div class="container">

    <h1> <i class="fa fa-shopping-cart"></i> Order </h1>

  </div>

    </div>-->

<div class="clr"></div>

<section class="orderblue_bg in_top_space">
	<div class="container">
		<table width="100%" border="0" cellspacing="0" cellpadding="0">
          <tr>
            <td style="color:#ffffff; font-size:48px; font-weight:300; font-family: 'ralewaylight';"><span style="font-family: 'ralewaybold'; color:#000000;">EMAILGUY</span> IS HERE</td>
          </tr>
          <tr>
            <td style="color:#ffffff; font-size:18px; font-family: 'ralewayregular';">TO DESIGN &amp; CODE YOUR GREAT EMAILS &amp; NEWSLETTERS THAT COMPATIBLE WITH ALL MAJOR EMAIL CLIENTS</td>
          </tr>
          <tr>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td style="font-size:30px; font-family: 'ralewaybold'; color:#000000;">WHAT MAKES US DIFFERENT?</td>
          </tr>
          <tr>
            <td style="font-size:14px; font-family: 'ralewayregular'; color:#ffffff; padding-top:5px; line-height:25px;">
            	Unique Design Concepts &#10140; Hand Coded Email &#10140; Strict NDA Terms &#10140; Tested by LITMUS for Optimal Email Compatibility &#10140; Fast Turnaround Time &#10140; 100% Money Back Guarantee &#10140; 24/7 Development & Support including holidays
            </td>
          </tr>
          <tr>
            <td>&nbsp;</td>
          </tr>
          <tr>
            <td>
            	<table width="100%" border="0" cellspacing="0" cellpadding="0">
                  <tr>
                    <td width="70"><div class="note">NOTE</div></td>
                    <td width="10">&nbsp;</td>
                    <td style="font-size:18px; font-family: 'ralewaybold'; color:#fff600;">PRICING DETAILS BELOW <span style="font-size:24px; color:#ffffff;">&#10552;</span></td>
                  </tr>
                </table>
            </td>
          </tr>
          <tr>
            <td style="font-size:20px; font-family: 'ralewayregular'; color:#ffffff; padding-top:10px;">
            	<span style="font-family: 'ralewaybold'; color:#ffffff;">1)</span> Fresh Email Design & Coding - $125 &nbsp;&nbsp;&nbsp; <span style="font-family: 'ralewaybold'; color:#ffffff;">2)</span> Your Design We Code - $65 &nbsp;&nbsp;&nbsp; <span style="font-family: 'ralewaybold'; color:#ffffff;">3)</span> Existing Email Editing - $35 
            </td>
          </tr>
          <tr>
            <td style="font-size:14px; font-family: 'ralewayregular'; color:#ffffff; padding-top:10px;">
            	Our pricing is based on urgency of project submission, if you select faster delevery option then pricing will increase.
            </td>
          </tr>
          <tr>
            <td>&nbsp;</td>
          </tr>
        </table>
    </div>
</section>

<div class="clr"></div>



<section >





<div class="container top_sapace6">





<form id="order" enctype="multipart/form-data">

<div class="frm_title">

<span>1</span> Choose Your Package

</div>



<div class="frm_box frm_height">

<div class="choose_box choose_box1" id="01" >

<input type="radio" name="package" id="radio1" value="1"/>        

        <label for="radio1">

            <span class="fa-stack">

                <i class="fa fa-circle fa-stack-1x fa-3x c1"></i>

                <i class="fa fa-circle fa-stack-1x fa-3x c2"></i>

            </span>

           <b>Fresh Design & Coding</b>

        </label>

</div>

</div>





<div class="frm_box box_space frm_height">

<div class="choose_box choose_box1" id="02">

 <input type="radio" name="package" id="radio2" value="2"/>     

        <label for="radio2">

            <span class="fa-stack">

                <i class="fa fa-circle fa-stack-1x fa-3x c1"></i>

                <i class="fa fa-circle fa-stack-1x fa-3x c2"></i>

            </span>

           <b>Your Design We Code</b>

        </label>

</div>

</div>





<div class="frm_box frm_height">

<div class="choose_box choose_box1" id="03">

 <input type="radio" name="package" id="radio3" value="3"/>     

        <label for="radio3">

            <span class="fa-stack">

                <i class="fa fa-circle fa-stack-1x fa-3x c1"></i>

                <i class="fa fa-circle fa-stack-1x fa-3x c2"></i>

            </span>

           <b>Exisiting Email Editing</b>

        </label>

</div>

</div>

<div id="package_contatiner"></div>

<div class="frm_title">

<span>6</span> Email software integration if any :

</div>



<div class="frm_box">

<div class="choose_box choose_box2" id="04" >

<input type="radio" name="has_integration" id="radio4" value="0"/>        

        <label for="radio4">

            <span class="fa-stack">

                <i class="fa fa-circle fa-stack-1x fa-3x c1"></i>

                <i class="fa fa-circle fa-stack-1x fa-3x c2"></i>

            </span>

           <b>No Integration</b>

        </label>

</div>









</div>



<div class="frm_box box_space">



<select class="change" name="intigration" id="someName4">

    <option value="Mailchimp">Mailchimp</option>

    <option value="Exact Target">Exact Target</option>

    <option value="Dotmailer">Dotmailer</option>

</select>

</div>





<div class="frm_box">

<input type="text" name="intigration_other" placeholder="Custom Software" />

</div>



<div class="clr"></div>







<div class="clr"></div>

<div class="frm_box3">

<textarea name="job_details" placeholder="Job Details"></textarea>

</div>



<div class="frm_box ">

<label class="custom-upload  gray_btn"><input type="file" name="upload_files" id="sortpicture" multiple/>Upload project related files</label>

<div class="file_type">Layered PSD / AI / EPS / PDF / or zip files.</div>



<div class="file_type2">

<input type="checkbox" name="has_file" id="check3" value="0"/>

        <label for="check3">

            <span class="fa-stack">

                <i class="fa fa-square-o fa-stack-1x fa-lg"></i>

                <i class="fa fa-check-square fa-stack-1x  fa-lg"></i>

            </span>

         I don't want to submit any file for this job.

        </label>



</div>







</div>





<div class="frm_box3">

<input type="text" name="download_link" placeholder="Give URL of project file that we can download" />

</div>



<div class="frm_box">
<input type="hidden" name="source"/>
<button type="submit" class="orange_btn1">Add To Cart</button>
<div class="add-cart-error"></div>
</div>

</form>

<div class="clr"></div>



</div>



<div class="clr"></div>

</section>



<div class="clr"></div>



<div id="cart_container"></div>

<div class="modal fade" id="smallModal" tabindex="-1" role="dialog" aria-labelledby="smallModal" aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Confirm</h4>
      </div>
      <div class="modal-body">
        Look like some unprocessed order on your cart. Do you want to load?
      </div>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn btn-primary" id="yes">Yes</button>
        <button type="button" data-dismiss="modal" class="btn" id="no">No</button>
      </div>
    </div>
  </div>
</div>

<script>
var getUrlParameter = function getUrlParameter(sParam) {
    var sPageURL = decodeURIComponent(window.location.search.substring(1)),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

    for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : sParameterName[1];
        }
    }
};

var getHashParameter = function getHashParameter(sParam) {
    var sPageURL = decodeURIComponent(window.location.hash.substr(1)),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

    for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : sParameterName[1];
        }
    }
}; 

$(window).on('hashchange', function() {

  var values = window.location.hash;

  console.log(values);

});

$( document ).ready(function() {
    if(getHashParameter('package') != '' && getHashParameter('package') !== undefined){
        $(".choose_box1  input[value='"+getHashParameter('package')+"']").trigger( "click" );
         $("input[name='source']").val(getHashParameter('source'));
    } else if(getUrlParameter('package') != '' && getUrlParameter('package') !== undefined){
        $(".choose_box1  input[value='"+getUrlParameter('package')+"']").trigger( "click" );
        $("input[name='source']").val(getUrlParameter('source'));
    } else{
        $(".choose_box1  input[value='1']").trigger( "click" );
    }

    $.ajax({
        dataType : "json",
        method : "POST",
        url : "{{ baseUrl() }}/cart/count"
    }).done(function(data) {
        if(data.error === false){
            $('#smallModal').modal('show');
            $('button#yes').on('click', function(e){
                e.preventDefault();
                $('#smallModal').modal({ backdrop: 'static', keyboard: false })
                    .one('click', '#yes', function (e) {
                     $.ajax({
                        dataType : "html",
                        method : "POST",
                        url : "{{ baseUrl() }}/cart",
                        data : $( this ).serialize()
                    }).done(function(html) {
                        $("#cart_container").html("");
                        $("#cart_container").append(html);
                        $('html, body').animate({
                            scrollTop: $("#cart_container").offset().top
                        }, 2000);

                        $('form#order').find("input[type=text], input[type=email], input[type=file], input[type=hidden] ,textarea").val("");
                        $('form#order').find("input[type=checkbox]").prop('checked', false);
                        $('form#order').find("select").prop('selectedIndex',0);
                        $('.add-cart-error').html('');
                    });
                });
            });

            $('button#no').on('click', function(e){
                e.preventDefault();
                $('#smallModal').modal({ backdrop: 'static', keyboard: false })
                     .one('click', '#no', function (e) {
                     $.ajax({
                        dataType : "josn",
                        method : "POST",
                        url : "{{ baseUrl() }}/cart/delete"
                    }).done(function(html) {
                       
                    });
                });
            });

           

        } else {

        }
       
    });
});

$(".choose_box1 input[name='package']").click(function(event) {

    console.log($(this).val());

    // If the button is selected.

    if ($(this).hasClass("checked")) {

        // Remove the placeholder.

        $(this).removeClass("checked");

        // And remove the selection.

        $(this).removeAttr("checked");

    // If the button is not selected.

    } else {

        // Remove the placeholder from the other buttons.

        $(".choose_box1  input[type='radio']").each(function () {

            $(this).removeClass("checked");

        });

        // And add the placeholder to the button.

        $(this).addClass("checked");

    }

    $.ajax({

        dataType : "html",

        url : "{{ baseUrl() }}/package/"+ $(this).val(),

    }).done(function(html) {

        $("#package_contatiner").html("");

        $("#package_contatiner").append(html);

    });

});



$(".choose_box2 input[type='radio']").click(function(event) {

    console.log($(this).val());

    // If the button is selected.

    if ($(this).hasClass("checked")) {

        // Remove the placeholder.

        $(this).removeClass("checked");

        // And remove the selection.

        $(this).removeAttr("checked");

    // If the button is not selected.

    } else {

        // Remove the placeholder from the other buttons.

        $(".choose_box2  input[type='radio']").each(function () {

            $(this).removeClass("checked");

        });

        // And add the placeholder to the button.

        $(this).addClass("checked");

    }



    if($(this).hasClass("checked")){

        $('select[name="intigration"], input[name="intigration_other"]').hide();

    } else{

        $('select[name="intigration"], input[name="intigration_other"]').show();   

    }

});



// $( "form#order" ).on( "submit", function( event ) {

//   event.preventDefault();

//   // var file_data = $('#sortpicture').prop('files')[0];   

//   // var form_data = new FormData();                  

//   // form_data.append('file', file_data);

//   // console.log(form_data);

//   console.log($( this ).serialize());

//   $.ajax({

//         dataType : "html",

//         method : "POST",

//         url : "{{ baseUrl() }}/cart",

//         data : $( this ).serialize()

//     }).done(function(html) {

//         $("#cart_container").html("");

//         $("#cart_container").append(html);

//     });

// });

    var files;

    // Add events
    $('input[type=file]').on('change', prepareUpload);
    $('form#order').on( "submit", function( event ) {
        event.preventDefault();
        if($('input[name="has_file"]').is(':checked')){
            window.location.hash = "";
            $.ajax({
                dataType : "html",
                method : "POST",
                url : "{{ baseUrl() }}/cart",
                data : $( this ).serialize()
            }).done(function(html) {
                $("#cart_container").html("");
                $("#cart_container").append(html);
                $('html, body').animate({
                    scrollTop: $("#cart_container").offset().top
                }, 2000);

                $('form#order').find("input[type=text], input[type=email], input[type=file], input[type=hidden], textarea").val("");
                $('form#order').find("input[type=checkbox]").prop('checked', false);
                $('form#order').find("select").prop('selectedIndex',0);
                $('.add-cart-error').html('');
            });
        } else if($('input[type="file"]').val() != ''){
            window.location.hash = "";
            uploadFiles(event);
        } else{
            $('.add-cart-error').html('<div class="alert alert-error" role="alert">Please upload a file or select the check box.</div>')
        }
    });

    // Grab the files and set them to our variable
    function prepareUpload(event)
    {
        files = event.target.files;
    }

    // Catch the form submit and upload the files
    function uploadFiles(event)
    {
        event.stopPropagation(); // Stop stuff happening
        event.preventDefault(); // Totally stop stuff happening

        // START A LOADING SPINNER HERE

        // Create a formdata object and add the files
        var data = new FormData();
        $.each(files, function(key, value)
        {
            data.append(key, value);
        });
        
        $.ajax({
            url: "{{ baseUrl() }}/image/upload",
            type: 'POST',
            data: data,
            cache: false,
            dataType: 'json',
            processData: false, // Don't process the files
            contentType: false, // Set content type to false as jQuery will tell the server its a query string request
            success: function(data, textStatus, jqXHR)
            {
                if(typeof data.error === 'undefined')
                {
                    // Success so call function to process the form
                    submitForm(event, data);
                }
                else
                {
                    // Handle errors here
                    console.log('ERRORS: ' + data.error);
                }
            },
            error: function(jqXHR, textStatus, errorThrown)
            {
                // Handle errors here
                console.log('ERRORS: ' + textStatus);
                // STOP LOADING SPINNER
            }
        });
    }

    function submitForm(event, data)
    {
        // Create a jQuery object from the form
        $form = $(event.target);
        
        // Serialize the form data
        var formData = $form.serialize();
        
        // You should sterilise the file names
        $.each(data.files, function(key, value)
        {
            formData = formData + '&filenames[]=' + value;
        });

        $.ajax({
            dataType : "html",
            method : "POST",
            url : "{{ baseUrl() }}/cart",
            data : formData
        }).done(function(html) {
            $("#cart_container").html("");
            $("#cart_container").append(html);
            $('html, body').animate({
                scrollTop: $("#cart_container").offset().top
            }, 2000);

            $('form#order').find("input[type=text], input[type=email], input[type=file], input[type=hidden], textarea").val("");
            $('form#order').find("input[type=checkbox]").prop('checked', false);
            $('form#order').find("select").prop('selectedIndex',0);
            $('.add-cart-error').html('');
        });
    }

$(document).on( "click", ".delete", function( event ) {
  event.preventDefault();
  $.ajax({
        dataType : "html",
        method : "POST",
        url : "{{ baseUrl() }}/cart/delete/"+ $(this).data('id')
    }).done(function(html) {
        $("#cart_container").html("");
        $("#cart_container").append(html);
        $('html, body').animate({
                scrollTop: $("#cart_container").offset().top
        }, 2000);
    });

});

$(document).on( "click", ".reset", function( event ) {
    $('form#order').find("input[type=text], input[type=email], input[type=file], input[type=hidden],textarea").val("");
    $('form#order').find("input[type=checkbox]").prop('checked', false);
    $('form#order').find("select").prop('selectedIndex',0);
    $('.add-cart-error').html('');
    $(".choose_box1 input[value='1']").trigger( "click" );
    $('html, body').animate({
        scrollTop: $("form#order").offset().top
    }, 2000);
});

$(document).on( "submit", "form#oreder-placed", function( event ) {
     // event.preventDefault();
    if($('input[name="terms"]').is(':checked')){
        if($('input[name="newsletter"]').is(':checked')){
            $.ajax({
                dataType : "html",
                method : "POST",
                url : "{{ baseUrl() }}/newsletter",
                data : {'email': $('input[name="newsletter_email"]').val()}
            }).done(function(html) {
               console.log(html);
            });
        }   
        return true;

    } else{
        event.preventDefault();
        $('.place-order-error').html('<div class="alert alert-error" role="alert">Please accept the Terms and Conditions.</div>')
    }
});





// $( "form#oreder-placed" ).on( "submit", function( event ) {

//   event.preventDefault();

//   console.log($( this ).serialize());

// });





</script>
<script src="{{ baseUrl() }}/js/bootstrap.min.js" type="text/javascript"></script>



{% endblock %}